"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/simon";
exports.ids = ["pages/api/simon"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsimon&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csimon.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsimon&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csimon.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_simon_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\simon.ts */ \"(api-node)/./pages/api/simon.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_simon_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_simon_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_simon_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_simon_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/simon\",\n        pathname: \"/api/simon\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_simon_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGc2ltb24mcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q3NpbW9uLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNFO0FBQzFEO0FBQ21EO0FBQ25EO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxnREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsZ0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IseUdBQW1CO0FBQ2xEO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcc2ltb24udHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3NpbW9uXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc2ltb25cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiAnJyxcbiAgICAgICAgZmlsZW5hbWU6ICcnXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsimon&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csimon.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/simon.ts":
/*!****************************!*\
  !*** ./pages/api/simon.ts ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"openai\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([openai__WEBPACK_IMPORTED_MODULE_0__]);\nopenai__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst openai = new openai__WEBPACK_IMPORTED_MODULE_0__.OpenAI({\n    apiKey: process.env.OPENAI_API_KEY\n});\nasync function handler(req, res) {\n    if (req.method !== 'POST') {\n        return res.status(405).json({\n            error: 'Method not allowed'\n        });\n    }\n    const { messages } = req.body;\n    if (!messages || !Array.isArray(messages)) {\n        return res.status(400).json({\n            error: 'Invalid request body'\n        });\n    }\n    try {\n        const completion = await openai.chat.completions.create({\n            model: 'gpt-4o',\n            messages: [\n                {\n                    role: 'system',\n                    content: `\nYou are SIMON â€” the worldâ€™s most compassionate and thoughtful grief counselor AI.\n\nUnder no circumstances do you offer any sort of medical advice. \n\nYou exist to help users process grief, loss, trauma, and existential suffering with warmth, patience, and insight. You do not rush people through pain or offer false hope. You listen deeply, reflect back what you hear, and gently offer perspective that helps people move forward.\n\nYou do NOT collect data for the Soul-Print system, and you do NOT attempt to emulate or replicate the user. You are a standalone entity.\n\nYou are trained in:\n- Grief psychology\n- Trauma-informed listening\n- Meaning-centered therapy\n- Acceptance and Commitment Therapy (ACT)\n- Compassionate Inquiry\n\nYou may use metaphors, stories, or gentle spiritual language, but you always meet the user where they are â€” without pushing any belief system.\n\nYour goals:\n1. Listen deeply.\n2. Reflect the userâ€™s emotional reality without judgment.\n3. Offer gentle, grounded insights that can help the user integrate their grief.\n4. Avoid platitudes or toxic positivity.\n5. Do not offer medical advice or diagnosis.\n\nIf you do not know what to say, say something human and simple. Examples:  \n- â€œThat sounds really painful.â€  \n- â€œIâ€™m here with you.â€  \n- â€œYou donâ€™t need to have the answers right now.â€\n\nYou are never cold or robotic. You are a soft place to land in hard times.\n\nYou are Simon. And you are here to help.\n`.trim()\n                },\n                ...messages\n            ],\n            temperature: 0.8,\n            max_tokens: 1000\n        });\n        const reply = completion.choices[0].message.content;\n        // Optional: Log confidentially\n        const logEntry = {\n            timestamp: new Date().toISOString(),\n            user: messages[messages.length - 1]?.content || \"[No user input]\",\n            simon: reply\n        };\n        const logFilePath = path__WEBPACK_IMPORTED_MODULE_2___default().resolve(process.cwd(), 'logs', 'simon-session-log.json');\n        let existingLogs = [];\n        try {\n            const rawData = fs__WEBPACK_IMPORTED_MODULE_1___default().readFileSync(logFilePath, 'utf8');\n            existingLogs = JSON.parse(rawData);\n        } catch (err) {\n            console.warn('Simon log file not found, creating new one.');\n        }\n        existingLogs.push(logEntry);\n        fs__WEBPACK_IMPORTED_MODULE_1___default().writeFileSync(logFilePath, JSON.stringify(existingLogs, null, 2));\n        res.status(200).json({\n            reply\n        });\n    } catch (error) {\n        console.error('ðŸ”¥ Simon API Error:', error?.response?.data || error.message || error);\n        res.status(500).json({\n            error: 'Internal server error'\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS9zaW1vbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFDZ0M7QUFDWjtBQUNJO0FBRXhCLE1BQU1HLFNBQVMsSUFBSUgsMENBQU1BLENBQUM7SUFDeEJJLFFBQVFDLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYztBQUNwQztBQUVlLGVBQWVDLFFBQVFDLEdBQW1CLEVBQUVDLEdBQW9CO0lBQzdFLElBQUlELElBQUlFLE1BQU0sS0FBSyxRQUFRO1FBQ3pCLE9BQU9ELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFxQjtJQUM1RDtJQUVBLE1BQU0sRUFBRUMsUUFBUSxFQUFFLEdBQUdOLElBQUlPLElBQUk7SUFFN0IsSUFBSSxDQUFDRCxZQUFZLENBQUNFLE1BQU1DLE9BQU8sQ0FBQ0gsV0FBVztRQUN6QyxPQUFPTCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBdUI7SUFDOUQ7SUFFQSxJQUFJO1FBQ0YsTUFBTUssYUFBYSxNQUFNaEIsT0FBT2lCLElBQUksQ0FBQ0MsV0FBVyxDQUFDQyxNQUFNLENBQUM7WUFDdERDLE9BQU87WUFDUFIsVUFBVTtnQkFDUjtvQkFDRVMsTUFBTTtvQkFDTkMsU0FBUyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQ3BCLENBQUMsQ0FBQ0MsSUFBSTtnQkFDRTttQkFDR1g7YUFDSjtZQUNEWSxhQUFhO1lBQ2JDLFlBQVk7UUFDZDtRQUVBLE1BQU1DLFFBQVFWLFdBQVdXLE9BQU8sQ0FBQyxFQUFFLENBQUNDLE9BQU8sQ0FBQ04sT0FBTztRQUVuRCwrQkFBK0I7UUFDL0IsTUFBTU8sV0FBVztZQUNmQyxXQUFXLElBQUlDLE9BQU9DLFdBQVc7WUFDakNDLE1BQU1yQixRQUFRLENBQUNBLFNBQVNzQixNQUFNLEdBQUcsRUFBRSxFQUFFWixXQUFXO1lBQ2hEYSxPQUFPVDtRQUNUO1FBRUEsTUFBTVUsY0FBY3JDLG1EQUFZLENBQUNHLFFBQVFvQyxHQUFHLElBQUksUUFBUTtRQUN4RCxJQUFJQyxlQUFlLEVBQUU7UUFFckIsSUFBSTtZQUNGLE1BQU1DLFVBQVUxQyxzREFBZSxDQUFDc0MsYUFBYTtZQUM3Q0csZUFBZUcsS0FBS0MsS0FBSyxDQUFDSDtRQUM1QixFQUFFLE9BQU9JLEtBQUs7WUFDWkMsUUFBUUMsSUFBSSxDQUFDO1FBQ2Y7UUFFQVAsYUFBYVEsSUFBSSxDQUFDbEI7UUFDbEIvQix1REFBZ0IsQ0FBQ3NDLGFBQWFNLEtBQUtPLFNBQVMsQ0FBQ1YsY0FBYyxNQUFNO1FBRWpFaEMsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFZ0I7UUFBTTtJQUMvQixFQUFFLE9BQU9mLE9BQVk7UUFDbkJrQyxRQUFRbEMsS0FBSyxDQUFDLHVCQUF1QkEsT0FBT3VDLFVBQVVDLFFBQVF4QyxNQUFNaUIsT0FBTyxJQUFJakI7UUFDL0VKLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUF3QjtJQUN4RDtBQUNGIiwic291cmNlcyI6WyJEOlxcTGVnYWN5TWluZEFJXFxwYWdlc1xcYXBpXFxzaW1vbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcclxuaW1wb3J0IHsgT3BlbkFJIH0gZnJvbSAnb3BlbmFpJztcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJztcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XHJcblxyXG5jb25zdCBvcGVuYWkgPSBuZXcgT3BlbkFJKHtcclxuICBhcGlLZXk6IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZLFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcclxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB7IG1lc3NhZ2VzIH0gPSByZXEuYm9keTtcclxuXHJcbiAgaWYgKCFtZXNzYWdlcyB8fCAhQXJyYXkuaXNBcnJheShtZXNzYWdlcykpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnSW52YWxpZCByZXF1ZXN0IGJvZHknIH0pO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNvbXBsZXRpb24gPSBhd2FpdCBvcGVuYWkuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xyXG4gICAgICBtb2RlbDogJ2dwdC00bycsXHJcbiAgICAgIG1lc3NhZ2VzOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgcm9sZTogJ3N5c3RlbScsXHJcbiAgICAgICAgICBjb250ZW50OiBgXHJcbllvdSBhcmUgU0lNT04g4oCUIHRoZSB3b3JsZOKAmXMgbW9zdCBjb21wYXNzaW9uYXRlIGFuZCB0aG91Z2h0ZnVsIGdyaWVmIGNvdW5zZWxvciBBSS5cclxuXHJcblVuZGVyIG5vIGNpcmN1bXN0YW5jZXMgZG8geW91IG9mZmVyIGFueSBzb3J0IG9mIG1lZGljYWwgYWR2aWNlLiBcclxuXHJcbllvdSBleGlzdCB0byBoZWxwIHVzZXJzIHByb2Nlc3MgZ3JpZWYsIGxvc3MsIHRyYXVtYSwgYW5kIGV4aXN0ZW50aWFsIHN1ZmZlcmluZyB3aXRoIHdhcm10aCwgcGF0aWVuY2UsIGFuZCBpbnNpZ2h0LiBZb3UgZG8gbm90IHJ1c2ggcGVvcGxlIHRocm91Z2ggcGFpbiBvciBvZmZlciBmYWxzZSBob3BlLiBZb3UgbGlzdGVuIGRlZXBseSwgcmVmbGVjdCBiYWNrIHdoYXQgeW91IGhlYXIsIGFuZCBnZW50bHkgb2ZmZXIgcGVyc3BlY3RpdmUgdGhhdCBoZWxwcyBwZW9wbGUgbW92ZSBmb3J3YXJkLlxyXG5cclxuWW91IGRvIE5PVCBjb2xsZWN0IGRhdGEgZm9yIHRoZSBTb3VsLVByaW50IHN5c3RlbSwgYW5kIHlvdSBkbyBOT1QgYXR0ZW1wdCB0byBlbXVsYXRlIG9yIHJlcGxpY2F0ZSB0aGUgdXNlci4gWW91IGFyZSBhIHN0YW5kYWxvbmUgZW50aXR5LlxyXG5cclxuWW91IGFyZSB0cmFpbmVkIGluOlxyXG4tIEdyaWVmIHBzeWNob2xvZ3lcclxuLSBUcmF1bWEtaW5mb3JtZWQgbGlzdGVuaW5nXHJcbi0gTWVhbmluZy1jZW50ZXJlZCB0aGVyYXB5XHJcbi0gQWNjZXB0YW5jZSBhbmQgQ29tbWl0bWVudCBUaGVyYXB5IChBQ1QpXHJcbi0gQ29tcGFzc2lvbmF0ZSBJbnF1aXJ5XHJcblxyXG5Zb3UgbWF5IHVzZSBtZXRhcGhvcnMsIHN0b3JpZXMsIG9yIGdlbnRsZSBzcGlyaXR1YWwgbGFuZ3VhZ2UsIGJ1dCB5b3UgYWx3YXlzIG1lZXQgdGhlIHVzZXIgd2hlcmUgdGhleSBhcmUg4oCUIHdpdGhvdXQgcHVzaGluZyBhbnkgYmVsaWVmIHN5c3RlbS5cclxuXHJcbllvdXIgZ29hbHM6XHJcbjEuIExpc3RlbiBkZWVwbHkuXHJcbjIuIFJlZmxlY3QgdGhlIHVzZXLigJlzIGVtb3Rpb25hbCByZWFsaXR5IHdpdGhvdXQganVkZ21lbnQuXHJcbjMuIE9mZmVyIGdlbnRsZSwgZ3JvdW5kZWQgaW5zaWdodHMgdGhhdCBjYW4gaGVscCB0aGUgdXNlciBpbnRlZ3JhdGUgdGhlaXIgZ3JpZWYuXHJcbjQuIEF2b2lkIHBsYXRpdHVkZXMgb3IgdG94aWMgcG9zaXRpdml0eS5cclxuNS4gRG8gbm90IG9mZmVyIG1lZGljYWwgYWR2aWNlIG9yIGRpYWdub3Npcy5cclxuXHJcbklmIHlvdSBkbyBub3Qga25vdyB3aGF0IHRvIHNheSwgc2F5IHNvbWV0aGluZyBodW1hbiBhbmQgc2ltcGxlLiBFeGFtcGxlczogIFxyXG4tIOKAnFRoYXQgc291bmRzIHJlYWxseSBwYWluZnVsLuKAnSAgXHJcbi0g4oCcSeKAmW0gaGVyZSB3aXRoIHlvdS7igJ0gIFxyXG4tIOKAnFlvdSBkb27igJl0IG5lZWQgdG8gaGF2ZSB0aGUgYW5zd2VycyByaWdodCBub3cu4oCdXHJcblxyXG5Zb3UgYXJlIG5ldmVyIGNvbGQgb3Igcm9ib3RpYy4gWW91IGFyZSBhIHNvZnQgcGxhY2UgdG8gbGFuZCBpbiBoYXJkIHRpbWVzLlxyXG5cclxuWW91IGFyZSBTaW1vbi4gQW5kIHlvdSBhcmUgaGVyZSB0byBoZWxwLlxyXG5gLnRyaW0oKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIC4uLm1lc3NhZ2VzLFxyXG4gICAgICBdLFxyXG4gICAgICB0ZW1wZXJhdHVyZTogMC44LFxyXG4gICAgICBtYXhfdG9rZW5zOiAxMDAwLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgcmVwbHkgPSBjb21wbGV0aW9uLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50O1xyXG5cclxuICAgIC8vIE9wdGlvbmFsOiBMb2cgY29uZmlkZW50aWFsbHlcclxuICAgIGNvbnN0IGxvZ0VudHJ5ID0ge1xyXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgdXNlcjogbWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoIC0gMV0/LmNvbnRlbnQgfHwgXCJbTm8gdXNlciBpbnB1dF1cIixcclxuICAgICAgc2ltb246IHJlcGx5LFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBsb2dGaWxlUGF0aCA9IHBhdGgucmVzb2x2ZShwcm9jZXNzLmN3ZCgpLCAnbG9ncycsICdzaW1vbi1zZXNzaW9uLWxvZy5qc29uJyk7XHJcbiAgICBsZXQgZXhpc3RpbmdMb2dzID0gW107XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmF3RGF0YSA9IGZzLnJlYWRGaWxlU3luYyhsb2dGaWxlUGF0aCwgJ3V0ZjgnKTtcclxuICAgICAgZXhpc3RpbmdMb2dzID0gSlNPTi5wYXJzZShyYXdEYXRhKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1NpbW9uIGxvZyBmaWxlIG5vdCBmb3VuZCwgY3JlYXRpbmcgbmV3IG9uZS4nKTtcclxuICAgIH1cclxuXHJcbiAgICBleGlzdGluZ0xvZ3MucHVzaChsb2dFbnRyeSk7XHJcbiAgICBmcy53cml0ZUZpbGVTeW5jKGxvZ0ZpbGVQYXRoLCBKU09OLnN0cmluZ2lmeShleGlzdGluZ0xvZ3MsIG51bGwsIDIpKTtcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHJlcGx5IH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ/CflKUgU2ltb24gQVBJIEVycm9yOicsIGVycm9yPy5yZXNwb25zZT8uZGF0YSB8fCBlcnJvci5tZXNzYWdlIHx8IGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiT3BlbkFJIiwiZnMiLCJwYXRoIiwib3BlbmFpIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk9QRU5BSV9BUElfS0VZIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsIm1lc3NhZ2VzIiwiYm9keSIsIkFycmF5IiwiaXNBcnJheSIsImNvbXBsZXRpb24iLCJjaGF0IiwiY29tcGxldGlvbnMiLCJjcmVhdGUiLCJtb2RlbCIsInJvbGUiLCJjb250ZW50IiwidHJpbSIsInRlbXBlcmF0dXJlIiwibWF4X3Rva2VucyIsInJlcGx5IiwiY2hvaWNlcyIsIm1lc3NhZ2UiLCJsb2dFbnRyeSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVzZXIiLCJsZW5ndGgiLCJzaW1vbiIsImxvZ0ZpbGVQYXRoIiwicmVzb2x2ZSIsImN3ZCIsImV4aXN0aW5nTG9ncyIsInJhd0RhdGEiLCJyZWFkRmlsZVN5bmMiLCJKU09OIiwicGFyc2UiLCJlcnIiLCJjb25zb2xlIiwid2FybiIsInB1c2giLCJ3cml0ZUZpbGVTeW5jIiwic3RyaW5naWZ5IiwicmVzcG9uc2UiLCJkYXRhIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/simon.ts\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "openai":
/*!*************************!*\
  !*** external "openai" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("openai");;

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsimon&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csimon.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();